# {{CC_PROJECT_NAME}} - Claude Development Guide

## Quick Reference - Most Common Issues

| Issue | Symptom | Solution |
|-------|---------|----------|
{{CC_QUICK_REFERENCE_ROWS}}

**Lint Check**: `{{CC_LINT_COMMAND}}` - Run before every commit!

---

## Critical Rules

These rules survive context compaction and are always enforced:

1. **Architecture**: Follow the `{{CC_ARCHITECTURE}}` pattern. Respect layer boundaries.
2. **Git commits**: `type(scope): subject` format. **NO AI/Claude references**. Professional codebase.
3. **Lint**: Run `{{CC_LINT_COMMAND}}` before every commit.
4. **Security**: Level `{{CC_SECURITY_LEVEL}}` active. Hooks guard Bash, Read, WebFetch, Write.
5. **Code review**: MANDATORY via code-standards-reviewer before any code is merged.

---

## Project & Architecture

**Stack**: {{CC_STACK_DESCRIPTION}}
**Principles**: {{CC_ARCHITECTURE_PRINCIPLES}}
**Pattern**: {{CC_ARCHITECTURE_PATTERN}}
**Structure**: {{CC_PROJECT_STRUCTURE}}

## Code Standards

**Language**: {{CC_LANGUAGE}}
**Formatting**: {{CC_FORMAT_RULES}}

**Automated Lint**: Run before every commit

```bash
{{CC_LINT_COMMAND}}
```

## Git Commit Guidelines

**NO AI/Claude references in commits** - Professional codebase only

**Format:** `type(scope): subject` (feat/fix/docs/style/refactor/test/chore)
**Example:** `feat({{CC_DEFAULT_SCOPE}}): add validation for import workflow`

**Issue linking**: When a commit resolves a GitHub issue, add `Closes #N` as the
last line of the commit body. This links the issue in the generated CHANGELOG.
Multiple issues: `Closes #61, Closes #62, Closes #63`

## Branching Workflow

**REQUIRED**: All changes go through feature branches and PRs.

1. Move issue to In Progress: `/issues move <N> progress` (auto-creates branch)
2. Work on feature branch: `feature/<N>-<slug>` or `fix/<N>-<slug>`
3. Commit with conventional format: `type(scope): subject`
4. Push branch and create PR: `gh pr create --base {{CC_MAIN_BRANCH}}`
5. CI runs, PR merged → issue auto-moves to Done

**Branch naming**: `<type>/<issue>-<kebab-slug>`
- `feature/` — enhancements (from {{CC_MAIN_BRANCH}})
- `fix/` — bugs (from {{CC_MAIN_BRANCH}})
- `hotfix/` — P0 critical (from master/main)
- `docs/` — documentation (from {{CC_MAIN_BRANCH}})

**PRs require review** before merging (human or `code-standards-reviewer` agent).
**NEVER push directly to `{{CC_MAIN_BRANCH}}`** unless emergency (admin bypass).

## Claude Code Hooks

All hooks are installed in `.claude/hooks/` and registered in `.claude/settings.json`.

| Hook | Event | Matcher | Purpose |
|------|-------|---------|---------|
| `setup-env.sh` | SessionStart | `startup` | Sets environment variables, prints project status |
| `compact-reminder.sh` | SessionStart | `compact` | Re-injects critical rules after context compaction |
| `validate-bash.sh` | PreToolUse | `Bash` | Blocks dangerous/exfiltration commands |
| `validate-read.sh` | PreToolUse | `Read` | Blocks sensitive file access |
| `validate-fetch.sh` | PreToolUse | `WebFetch\|WebSearch` | Domain filtering, audit logging |
| `post-edit-lint.sh` | PostToolUse | `Write\|Edit` | Auto-lints files after edits |
| `validate-write.sh` | PostToolUse | `Write\|Edit` | Secret scanning (API keys, PEM, passwords) |

### Hook Configuration

Hooks read from `cognitive-core.conf` in the project root or `.claude/` directory:

```bash
# cognitive-core.conf
CC_PROJECT_NAME="{{CC_PROJECT_NAME}}"
CC_LANGUAGE="{{CC_LANGUAGE}}"
CC_LINT_COMMAND="{{CC_LINT_COMMAND}}"
CC_LINT_EXTENSIONS="{{CC_LINT_EXTENSIONS}}"
CC_TEST_COMMAND="{{CC_TEST_COMMAND}}"
CC_MAIN_BRANCH="{{CC_MAIN_BRANCH}}"
CC_SECURITY_LEVEL="{{CC_SECURITY_LEVEL}}"
```

## Development Workflow

**New Entity**: {{CC_NEW_ENTITY_WORKFLOW}}
**Testing**: `{{CC_TEST_COMMAND}}`
**Server**: {{CC_SERVER_COMMAND}}
**Quality**: `{{CC_LINT_COMMAND}}`

## Troubleshooting

{{CC_TROUBLESHOOTING_CONTENT}}

---

## Specialized Agents

**Full Documentation:** `.claude/AGENTS_README.md`

**Agent Team (Hub-and-Spoke Model):**

| Agent | Role | Model |
|-------|------|-------|
| **project-coordinator** | Smart orchestrator (HUB) - delegates to specialists | {{CC_LEAD_MODEL}} |
{{CC_AGENT_TABLE_ROWS}}

**Quick Selection (Keyword → Agent):**

```text
{{CC_AGENT_QUICK_SELECTION}}
```

| Keywords | Route To |
|----------|----------|
| feature, workflow, design, architecture | solution-architect |
| review, standards, refactor, compliance | code-standards-reviewer |
| test, coverage, QA, failing | test-specialist |
| research, library, error, best practice | research-analyst |
| query, performance, database, bulk | database-specialist |
| plan, sprint, coordinate, board | project-coordinator |

---

## Context Management

**Cleanup**: `{{CC_CLEANUP_COMMAND}}`
**Health Check**: `{{CC_HEALTH_CHECK_COMMAND}}`

### Context Budget Guidelines

| Component | Max Size | Enforcement |
|-----------|----------|-------------|
| SKILL.md files | 500 lines | health check warns |
| Agent definitions | 300 lines | health check warns |
| CLAUDE.md | 400 lines | health check warns |
| Auto-load context total | <100KB | health check estimates |

**Tips:**
- Split large skills: SKILL.md (rules, <500 lines) → `references/` (details, read on demand)
- Use `disable-model-invocation: true` for manual-only skills (not auto-loaded)
- Run `health-check.sh` periodically to verify context stays within budget
