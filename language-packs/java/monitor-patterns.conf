#!/bin/false
# cognitive-core language pack: Java monitor patterns
# Sourced by workspace-monitor skill for Java/Spring Boot/Maven projects

# Log file patterns (glob, relative to project root)
MONITOR_LOG_PATTERNS="logs/*.log logs/**/*.log"

# Logging config files to discover custom log paths
MONITOR_LOG_CONFIG="src/main/resources/logback*.xml src/main/resources/log4j2.xml src/main/resources/logging.properties"

# Error regex (pipe-separated, POSIX ERE)
MONITOR_ERROR_REGEX="Exception|Caused by:|at [a-z].*\\(.*\\.java:[0-9]+\\)|NullPointerException|ClassNotFoundException|ClassCastException|NoSuchMethodException|IllegalArgumentException|IllegalStateException|IOException|FileNotFoundException|SocketException|OutOfMemoryError|StackOverflowError|java\\.lang\\.Error|ApplicationContextException|BeanCreationException|Failed to start .* context"

# Test result format: tap|junit|pytest|jest
MONITOR_TEST_FORMAT="junit"

# Test result patterns (pipe-separated)
MONITOR_TEST_REGEX="BUILD FAILURE|BUILD SUCCESS|COMPILATION ERROR|Tests run:.*Failures:.*Errors:|\\[ERROR\\].*Failed to execute|Could not resolve dependencies"

# Test result file locations (glob, relative to project root)
MONITOR_TEST_FILES="target/surefire-reports/TEST-*.xml target/surefire-reports/*.xml"

# Build artifact patterns (glob, relative to project root)
MONITOR_BUILD_ARTIFACTS="target/*.jar target/*.war"

# Build success/failure indicators
MONITOR_BUILD_SUCCESS="BUILD SUCCESS"
MONITOR_BUILD_FAILURE="BUILD FAILURE|COMPILATION ERROR|\\[ERROR\\]"
